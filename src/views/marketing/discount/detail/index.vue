<template>
  <c-view>
    <template v-slot:header>
      <el-page-header
        @back="goBack"
        :content="$route.meta.name || $t(`route.${$route.meta.title}`)"
      ></el-page-header>
    </template>
    <div class="point-wrapper">
      <div
        class="point-item"
        v-for="(item, index) in stepList"
        :key="index"
        v-point="item.id"
        :class="{'current-point': currentPoint === index}"
        @click="selectPoint(index)"
      >
        <div class="point-box">
          <div class="circle">{{index + 1}}</div>
          <div class="line" v-show="index !== stepList.length-1"></div>
        </div>
        <div class="point-name">{{item.name}}</div>
      </div>
    </div>
    <el-form
      ref="formRef"
      :model="formModel"
      label-width="120px"
      class="form"
      label-position="right"
    >
      <g-basic
        :is-view="isView"
        :is-disabled="isDisabled"
        :data-obj="formModel"
        v-if="formModel.id"
        ref="basicRef"
        title="基础信息"
        @show-image="reviewImage"
      ></g-basic>
      <el-form-item class="form-btn">
        <el-button :loading="btnLoading" type="primary" @click.native.prevent="submitHandle">保存</el-button>
      </el-form-item>
    </el-form>
  </c-view>
</template>

<script>
import MixinForm from 'mixins/form'
import GBasic from './basic'

export default {
  name: 'discountDetail',
  mixins: [MixinForm],
  data() {
    return {}
  },

  created() {

  },

  methods: {
  },

  components: {
    GBasic
  }
}
</script>
<style lang='less' scoped>
.form {
  background-color: @white;
  padding: 15px 15px;
  .form-btn {
    margin-left: 20px;
    margin-top: 20px;
  }
}
</style>
